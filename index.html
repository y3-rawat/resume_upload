<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ATS Resume Analyzer Pro</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <link href="style.css" rel="stylesheet">
</head>


<style>
    .o {
    margin-top: -15px;
}
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');

:root {
    --color-primary: #0066FF;
    --color-primary-light: #E6F0FF;
    --color-secondary: #7CD2FF;
    --color-text: #2D3748;
    --color-text-light: #718096;
    --color-background: #F7FAFC;
    --color-card-background: #FFFFFF;
    --color-border: #E2E8F0;
    --shadow-sm: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
    --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
}

body,
html {
    font-family: 'Inter', sans-serif;
    background-color: var(--color-background);
    color: var(--color-text);
    line-height: 1.5;
    min-height: 100vh;
    margin: 0;
}

.container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 1rem;
}

.card {
    background-color: var(--color-card-background);
    border-radius: 0.75rem;
    padding: 1.5rem;
    box-shadow: var(--shadow-sm);
    transition: all 0.3s ease;
}

.card:hover {
    box-shadow: var(--shadow-md);
}

.input-field {
    width: 100%;
    padding: 0.75rem;
    border: 1px solid var(--color-border);
    border-radius: 0.5rem;
    font-size: 1rem;
    transition: all 0.3s ease;
    background-color: var(--color-background);
}

.input-field:focus {
    outline: none;
    border-color: var(--color-primary);
    box-shadow: 0 0 0 3px rgba(0, 102, 255, 0.1);
}

.btn-primary {
    background-color: var(--color-primary);
    color: white;
    padding: 0.75rem 1.5rem;
    border-radius: 0.5rem;
    font-weight: 600;
    transition: all 0.3s ease;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    width: 100%;
}

.btn-primary:hover {
    background-color: #0052CC;
    transform: translateY(-2px);
    box-shadow: var(--shadow-md);
}

.upload-area {
    border: 2px dashed var(--color-primary);
    border-radius: 0.75rem;
    padding: 2rem;
    text-align: center;
    cursor: pointer;
    transition: all 0.3s ease;
    background-color: var(--color-primary-light);
    height: 100%;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
}

.upload-area:hover {
    background-color: #D9E8FF;
}

@media (max-width: 768px) {
    .container {
        padding: 0.5rem;
    }

    .card {
        padding: 1rem;
    }

    .upload-area {
        padding: 1rem;
        min-height: 200px;
    }
}
.h-full {
    height: 60%;
}
.input-field {
    padding: 0.5rem;
    border: 1px solid #ccc;
    border-radius: 4px;
    width: calc(100% - 22px);
    /* Adjust width based on padding and border */
}

.info-button {
    color: #1e78ff;
    cursor: pointer;
    font-weight: bold;

    font-size: 16px;
    transition: color 0.3s ease;
}

.info-button:hover {
    color: #0056b3;
}

/* Modal styles */
.modal {
    display: none;
    /* Hidden by default */
    position: fixed;
    z-index: 1000;
    /* Sit on top */
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    overflow: auto;
    /* Enable scroll if needed */
    background-color: rgba(0, 0, 0, 0.5);
    /* Semi-transparent background */
    justify-content: center;
    align-items: center;
    transition: opacity 0.3s ease;
}

.modal-content {
    background-color: #fff;
    margin: auto;
    padding: 20px;
    border: 1px solid #ddd;
    border-radius: 8px;
    width: 90%;
    max-width: 600px;
    position: relative;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    transition: transform 0.3s ease;
}

.modal-content img {
    max-width: 100%;
    height: auto;
    border-radius: 4px;
    margin-top: 10px;
}

.close {
    position: absolute;
    top: 10px;
    right: 10px;
    font-size: 24px;
    font-weight: bold;
    color: #aaa;
    cursor: pointer;
    transition: color 0.3s ease;
}

.close:hover {
    color: #333;
}

.modal.show {
    display: flex;
    opacity: 1;
    transform: scale(1.05);
}

.modal.hide {
    opacity: 0;
    transform: scale(0.9);
}

.input-wrapper {
    position: relative;
    margin-top: 10px;
}

.input-field {
    width: 100%;
    padding: 10px;
    padding-right: 40px;
    box-sizing: border-box;
}

.info-button {
    position: absolute;
    right: 10px;
    top: 50%;
    transform: translateY(-50%);
    cursor: pointer;
}

</style>













<body class="bg-gray-100">
   
    <div class="container mx-auto px-4 py-8">
       

        <header class="text-center mb-8">

            <!-- <p class="text-gray-600 mt-2">Optimize your resume for Applicant Tracking Systems</p> -->
        </header>
        

        <main class="grid grid-cols-1 md:grid-cols-2 gap-8 o">

            <section class="order-2 md:order-1 space-y-6">
                <h1 class="text-4xl font-bold text-gray-800">
                    <img src="https://res.cloudinary.com/dg9wkitg0/image/upload/v1724043178/r1mp5odnj5z6tnhgfj9e.svg"
                        alt="">
                </h1>
                <form id="resumeForm">

                    <div class="card">
                        <h2 class="text-2xl font-semibold mb-4 text-primary">
                            <i class="fas fa-briefcase mr-2"></i>Job Details
                        </h2>
                        <div class="space-y-4">
                            <div>
                                <label for="jobDescription" class="block text-sm font-medium mb-1">Job
                                    Description</label>
                                <textarea id="jobDescription" name="jobDescription" rows="5" class="input-field"
                                    placeholder="Paste the job description here..." required></textarea>

                            </div>
                            <div>
                                <label for="additionalInfo" class="block text-sm font-medium mb-1">Additional
                                    Information</label>
                                <textarea id="additionalInfo" name="additionalInfo" rows="3" class="input-field"
                                    placeholder="Add other relevant information..."></textarea>
                            </div>
                        </div>

                    </div>

                    <div style="padding-top: 10px;"></div>


                    <div class="card">
                        <h2 class="text-2xl font-semibold mb-4 text-primary">
                            <i class="fas fa-user-tie mr-2"></i>Experience Level
                        </h2>
                        <div class="space-y-2">
                            <div class="flex items-center space-x-4">
                                <label class="flex items-center space-x-2">
                                    <input type="radio" name="experience" value="Experience" required
                                        class="form-radio text-primary">
                                    <span>Experienced</span>
                                </label>
                                <label class="flex items-center space-x-2">
                                    <input type="radio" name="experience" value="NoExperience" required
                                        class="form-radio text-primary">
                                    <span>No Experience</span>
                                </label>
                            </div>
                        </div>

                        <div id="status"></div>
                    </div>
            </section>

            <section class="order-1 md:order-2">
                <div style="margin-top: 30px;"></div>
                <div class="card h-full flex flex-col">

                    <h2 class="text-2xl font-semibold mb-4 text-primary">
                        <i class="fas fa-file-upload mr-2"></i>Upload Your Resume
                    </h2>
                    <div class="upload-area flex-grow" id="dropArea">
                        <input type="file" id="file-upload" name="file-upload" accept=".pdf" class="sr-only" required>
                        <label for="file-upload" class="cursor-pointer">
                            <i class="fas fa-cloud-upload-alt text-5xl text-primary mb-4"></i>
                            <p class="text-lg font-medium"> Click to Upload</p>
                            <p class="text-sm text-gray-600 mt-2">Supports PDF up to 10MB</p>
                            <p id="fileName" class="text-sm text-gray-600 mt-2"></p>

                        </label>

                    </div>

                    <div class="progress-bar-container hidden mt-4" id="progressBarContainer">
                        <div class="progress-bar bg-primary h-2 rounded-full" id="progressBar"></div>
                    </div>

                    <p id="fileInfo" class="success-message hidden mt-2"></p>
                    <p id="resumeError" class="error-message hidden mt-2"></p>
                </div>
                <div style="margin: 1%;"></div>
                
                <div class="card">
                    <label for="groq-api" style="font-size:14px;font-weight:500;">
                        Enter the Api of Groq (it's Free & We are not Saving it)
                        <button onclick="openSmallWindow()"
                            style="color:#0066FF;text-decoration:underline;font-weight: bold;">Click Here!</button>
                    </label>
                    <div class="input-wrapper">
                        <input type="text" id="groq-api" name="groq-api" class="input-field"
                            placeholder="Enter your Groq API key" required>
                        <div class="info-button"
                            onclick="showModal()">
                            Why?
                    </div>
                </div>

                <div style="margin: 1%;"></div>
                <!-- The Modal -->
                <div id="myModal" class="modal">
                    <div class="modal-content">
                        <span class="close" onclick="closeModal()">&times;</span>
                        <p>Due to high demand, we are currently unable to fulfill requests as expected, which has led to the termination of the account. <br> <br>
                            Groq key will allow us to connect and interact with the Groq service effectively and we are not storing your api keys.
                            <br> <br>
                            Thank you for your understanding and cooperation..</p>
                        <img src="https://res.cloudinary.com/dg9wkitg0/image/upload/v1724043061/edyszju6qmd8yrfvhjqa.png"
                            alt="Explanation Image">
                    </div>
                </div>

                <script>
                    function openSmallWindow() {
                        const width = 1000;
                        const height = 600;
                        const left = (window.screen.width - width) / 2;
                        const top = (window.screen.height - height) / 2;

                        window.open(
                            'https://console.groq.com/keys',
                            'smallWindow',
                            `width=${width},height=${height},top=${top},left=${left},resizable=yes,scrollbars=yes`
                        );
                    }

                    function showModal() {
                        const modal = document.getElementById('myModal');
                        modal.classList.remove('hide');
                        modal.classList.add('show');
                        modal.style.display = 'flex';
                    }

                    function closeModal() {
                        const modal = document.getElementById('myModal');
                        modal.classList.remove('show');
                        modal.classList.add('hide');
                        setTimeout(() => {
                            modal.style.display = 'none';
                        }, 300); // Match with the CSS transition time
                    }

                    // Ensure modal is hidden initially
                    document.getElementById('myModal').style.display = 'none';
                    document.getElementById('myModal').classList.add('hide');
                </script>
                <div class="card">

                    <div class="space-y-2">
                        <button type="submit" class="btn-primary">
                            <i class="fas fa-search-plus"></i>
                            <span>Analyze Resume</span>
                        </button>

                    </div>
                </div>


                </form>

            </section>
        </main>
    </div>
    <script>
       document.addEventListener('DOMContentLoaded', function () {
    const form = document.getElementById('resumeForm');
    const mainContent = document.querySelector('main');

    form.addEventListener('submit', async function (e) {
        e.preventDefault();

        const formData = new FormData(form);
        const file = formData.get('file-upload');

        if (!file) {
            alert('Please select a file to upload.');
            return;
        }

        if (file.type !== 'application/pdf') {
            alert('Please select a PDF file.');
            return;
        }

        try {
            mainContent.innerHTML = await fetchHtmlContent('/text_extracting.html');

            const response = await fetch('/api/upload', {
                method: 'POST',
                body: formData
            });

            const reader = response.body.getReader();
            let result = '';

            while (true) {
                const { done, value } = await reader.read();
                if (done) break;
                result += new TextDecoder().decode(value);

                const parts = result.split('}');
                for (const part of parts.slice(0, -1)) {
                    const data = JSON.parse(part + '}');
                    if (data.status === 'extracting') {
                        // Text extraction is happening, do nothing as we're already showing the extraction page
                    } else if (data.status === 'fetching') {
                        mainContent.innerHTML = await fetchHtmlContent('/fetching_data.html');
                    } else if (data.status === 'complete') {
                        displayResults(data);
                    }
                }
                result = parts[parts.length - 1];
            }

        } catch (error) {
            console.error('Error:', error);
            alert('An error occurred. Please try again.');
        }
    });

    async function fetchHtmlContent(url) {
        const response = await fetch(url);
        return await response.text();
    }

    function displayResults(data) {
        const resultHtml = `
            <h2 class="text-2xl font-bold mb-4">Results</h2>
            <div class="mb-4">
                <h3 class="text-xl font-semibold">Extracted Text:</h3>
                <pre class="bg-gray-100 p-4 rounded">${data.extractedText}</pre>
            </div>
            <div>
                <h3 class="text-xl font-semibold">API Response:</h3>
                <pre class="bg-gray-100 p-4 rounded">${JSON.stringify(data.apiResponse, null, 2)}</pre>
            </div>
        `;
        mainContent.innerHTML = resultHtml;
    }
});

    </script>

  
</body>

</html>